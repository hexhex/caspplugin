%% Generator

$domain(0..10000).

posx(X) :- square(X,S), area(W,H), X $<= W-S .
posy(X) :- square(X,S), area(W,H), X $<= H-S.

intersectx(X1,X2) :- square(X1,S1), square(X2,S2), posx(X1), posx(X2), X1 $<= X2,     X1$+S1$>X2, X1 != X2.
intersectx(X1,X2) :- square(X1,S1), square(X2,S2), posx(X1), posx(X2), X1 $< X2$+S2,  X1$+S1$>X2$+S2, X1 != X2.

intersecty(X1,X2) :- square(X1,S1), square(X2,S2), posy(X1), posy(X2), X1 $<= X2,     X1$+S1$>X2,     X1 != X2.
intersecty(X1,X2) :- square(X1,S1), square(X2,S2), posy(X1), posy(X2), X1 $<  X2$+S2, X1$+S1$>X2$+S2, X1 != X2.

intersectx(X1,X2) :- intersectx(X2,X1), square(X1,S1), square(X2,S2).
intersecty(X1,X2) :- intersecty(X2,X1), square(X1,S1), square(X2,S2).
:- intersectx(X1,X2), intersecty(X1,X2).

area(300,250).
max_square_num(29).
square(1,188).
square(2,65).
square(3,51).
square(4,14).
square(5,78).
square(6,61).
square(7,45).
square(8,23).
square(9,55).
square(10,37).
square(11,6).
square(12,39).
square(13,4).
square(14,4).
square(15,43).
square(16,24).
square(17,9).
square(18,27).
square(19,28).
square(20,6).
square(21,19).
square(22,11).
square(23,14).
square(24,15).
square(25,6).
square(26,17).
square(27,21).
square(28,17).
square(29,19).
