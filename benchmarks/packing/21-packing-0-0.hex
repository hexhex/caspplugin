%% Generator

$domain(0..10000).

posx(X) $<= W-S :- square(X,S), area(W,H).
posy(X) $<= H-S :- square(X,S), area(W,H).

%very simple approach, checking edges

intersectx(X1,X2) :- square(X1,S1), square(X2,S2), posx(X1) $<= posx(X2),    posx(X1)$+S1$>posx(X2), X1 != X2.
intersectx(X1,X2) :- square(X1,S1), square(X2,S2), posx(X1) $<  posx(X2)$+S2, posx(X1)$+S1$>posx(X2)$+S2, X1 != X2.


intersecty(X1,X2) :- square(X1,S1), square(X2,S2), posy(X1) $<= posy(X2),     posy(X1)$+S1$>posy(X2),     X1 != X2.
intersecty(X1,X2) :- square(X1,S1), square(X2,S2), posy(X1) $<  posy(X2)$+S2, posy(X1)$+S1$>posy(X2)$+S2, X1 != X2.

intersectx(X1,X2) :- intersectx(X2,X1), square(X1,S1), square(X2,S2).
intersecty(X1,X2) :- intersecty(X2,X1), square(X1,S1), square(X2,S2).
:- intersectx(X1,X2), intersecty(X1,X2).
%:- square(X1,S1), square(X2,S2), X1 != X2, posx(X1) $<= posx(X2), posx(X1)+S1 $> posx(X2), posy(X1) $<= posy(X2), posy(X1)+S1 $> posy(X2).
area(200,150).
max_square_num(34).
square(1,51).
square(2,68).
square(3,53).
square(4,40).
square(5,56).
square(6,28).
square(7,25).
square(8,22).
square(9,48).
square(10,8).
square(11,7).
square(12,16).
square(13,9).
square(14,35).
square(15,33).
square(16,30).
square(17,10).
square(18,11).
square(19,21).
square(20,25).
square(21,8).
square(22,24).
square(23,7).
square(24,5).
square(25,16).
square(26,11).
square(27,4).
square(28,6).
square(29,17).
square(30,13).
square(31,14).
square(32,11).
square(33,10).
square(34,8).
